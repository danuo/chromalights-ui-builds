import{a as M,Q as P}from"./QItemLabel.93937425.js";import{Q as T,a as U}from"./QBtnToggle.3c5e9f72.js";import{c as $,g as d,e as s,Z as E,ab as H,aW as N,ad as R,j as K,x as W,y as Z,r as L,z as g,A as p,K as c,M as h,N as C,B as m,P as z,Q as D,ao as F,C as V,ai as J,a_ as X,aj as G,D as Y}from"./index.cb6feb5d.js";import{Q as ee}from"./QRadio.2444770c.js";import{u as le,a as ae,b as te,Q as ne}from"./QToggle.d7d8cd26.js";import{S as oe}from"./SmallToggleComponent.79011050.js";import{_ as re}from"./plugin-vue_export-helper.21dcd24c.js";import"./private.use-form.246ff555.js";import"./option-sizes.508cc9c7.js";const ie=()=>d("div",{key:"svg",class:"q-checkbox__bg absolute"},[d("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[d("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),d("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var se=$({name:"QCheckbox",props:le,emits:ae,setup(e){const r=ie();function a(o,v){const u=s(()=>(o.value===!0?e.checkedIcon:v.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>u.value!==null?[d("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[d(E,{class:"q-checkbox__icon",name:u.value})])]:[r]}return te("checkbox",a)}});const j={radio:ee,checkbox:se,toggle:ne},ue=Object.keys(j);function O(e,r){if(typeof e=="function")return e;const a=e!==void 0?e:r;return o=>o[a]}var ce=$({name:"QOptionGroup",props:{...H,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(N),default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],name:String,type:{type:String,default:"radio",validator:e=>ue.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:r,slots:a}){const{proxy:{$q:o}}=K(),v=Array.isArray(e.modelValue);e.type==="radio"?v===!0&&console.error("q-option-group: model should not be array"):v===!1&&console.error("q-option-group: model should be array in your case");const u=R(e,o),f=s(()=>j[e.type]),q=s(()=>O(e.optionValue,"value")),k=s(()=>O(e.optionLabel,"label")),_=s(()=>O(e.optionDisable,"disable")),w=s(()=>e.options.map(l=>({val:q.value(l),name:l.name===void 0?e.name:l.name,disable:e.disable||_.value(l),leftLabel:l.leftLabel===void 0?e.leftLabel:l.leftLabel,color:l.color===void 0?e.color:l.color,checkedIcon:l.checkedIcon,uncheckedIcon:l.uncheckedIcon,dark:l.dark===void 0?u.value:l.dark,size:l.size===void 0?e.size:l.size,dense:e.dense,keepColor:l.keepColor===void 0?e.keepColor:l.keepColor}))),Q=s(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),B=s(()=>{const l={role:"group"};return e.type==="radio"&&(l.role="radiogroup",e.disable===!0&&(l["aria-disabled"]="true")),l});function S(l){r("update:modelValue",l)}return()=>d("div",{class:Q.value,...B.value},e.options.map((l,y)=>{const x=a["label-"+y]!==void 0?()=>a["label-"+y](l):a.label!==void 0?()=>a.label(l):void 0;return d("div",[d(f.value,{label:x===void 0?k.value(l):null,modelValue:e.modelValue,"onUpdate:modelValue":S,...w.value[y]},x)])}))}});const de={class:"row q-col-gutter-xs q-mb-sm"},ve={class:"row q-col-gutter-xs"},_e=["onClick"],me={class:"q-my-sm row justify-between"},be={class:"q-my-sm"},ge={class:"row q-col-gutter-xs"},fe={__name:"GeneratorsComponent",setup(e){const r=W(),{settings:a}=Z(r),o=L("pattern"),v=L([]),u=L(null),f=["pattern","pattern_sec","pattern_break","vfilter","dimmer","thinner","effect"],q=[{var_name:"global_pattern_sec",label:"global_pattern_sec"},{var_name:"global_pattern_break",label:"global_pattern_break"},{var_name:"global_vfilter",label:"global_vfilter"},{var_name:"global_dimmer",label:"global_dimmer"},{var_name:"global_thinner",label:"global_thinner"},{var_name:"renew_thinner_from_manual",label:"renew_thinner"},{var_name:"renew_dimmer_from_manual",label:"renew_dimmer"}],k=s({get(){let t=a.value.target_device_index;return t==null&&(t=0),t}}),_=s({get(){return u.value==null?r.settings.global_manual_timeline_level:u.value}});function w(t){return v.value.every(i=>t.includes(i))}const Q=s({get(){return r.meta==null?[]:r.meta.available_generators[B.value].filter(t=>w(t.generator_keywords))}}),B=s({get(){return o.value=="pattern_sec"||o.value=="pattern_break"?"pattern":o.value}}),S=s({get(){let t=[];if(r.meta==null)return t;for(var i in r.meta.available_keywords)t.push({label:r.meta.available_keywords[i],value:r.meta.available_keywords[i]});return t}});function l(t){return t.replace(/_/g," ")}function y(t){if(a.value.target_device_index==null)for(let n=0;n<a.value.selected.length;n++)a.value.selected[n][o.value][_.value]=t;else a.value.selected[a.value.target_device_index][o.value][_.value]=t;let i={action:"set_generator",device_index:a.value.target_device_index,gen_type:o.value,gen_name:t,timeline_level:_.value};F("/rest/settings",i)}function x(t){let i={action:"gen_command",device_index:a.value.target_device_index,command:t,gen_type:o.value,timeline_level:_.value};F("/rest/settings",i)}function A(t){a.value[t]=!a.value[t],r.set_settings(t)}return(t,i)=>(g(),p(h,null,[c("div",de,[(g(),p(h,null,C(q,n=>c("div",{class:"col-4",key:n.label},[m(oe,{active:V(a)[n.var_name],onClick:b=>A(n.var_name),label:n.label},null,8,["active","onClick","label"])])),64))]),c("div",ve,[(g(),p(h,null,C(6,(n,b)=>c("div",{key:b,class:"col-6"},[c("div",{onClick:I=>o.value=f[b],class:J(o.value==f[b]?"green-box":"grey-box")},[m(M,{caption:"",style:{color:"#474747"}},{default:z(()=>[X(G(f[b]),1)]),_:2},1024),(g(),p(h,null,C(3,I=>c("div",{key:I},G(l(V(a).selected[k.value][f[b]][I])),1)),64))],10,_e)])),64))]),c("div",me,[m(T,{modelValue:u.value,"onUpdate:modelValue":i[0]||(i[0]=n=>u.value=n),"toggle-color":"primary",options:[{label:"auto",value:null},{label:"1",value:1},{label:"2",value:2},{label:"3",value:3}],size:"lg"},null,8,["modelValue"]),m(U,null,{default:z(()=>[m(D,{label:"alternate",icon:"update",onClick:i[1]||(i[1]=n=>x("alternate"))})]),_:1})]),c("div",be,[m(ce,{modelValue:v.value,"onUpdate:modelValue":i[2]||(i[2]=n=>v.value=n),options:S.value,type:"checkbox",inline:"",dense:""},null,8,["modelValue","options"])]),c("div",ge,[(g(!0),p(h,null,C(Q.value,n=>(g(),p("div",{class:"col-4",key:n},[m(D,{onClick:b=>y(n.generator_name),label:l(n.generator_name),style:{width:"100%",height:"80px"},class:"q-pa-sm",square:!0,color:n.generator_name==V(a).selected[k.value][o.value][_.value]?"secondary":"primary","text-color":n.generator_name==V(a).selected[k.value][o.value][_.value]?"black":"white"},null,8,["onClick","label","color","text-color"])]))),128))])],64))}};var pe=re(fe,[["__scopeId","data-v-5a85fe6a"]]);const Be={__name:"PerformPage",setup(e){return(r,a)=>(g(),Y(P,{padding:""},{default:z(()=>[m(pe)]),_:1}))}};export{Be as default};
